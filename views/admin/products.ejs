<%- include('../partials/admin_header.ejs') %>


<h2 class="page-title">Products</h2><br>
<a href="/admin/products/add-product" class="btn btn-primary">Add a new product</a>
<br><br>


<% if (count <= 0) { %>

    <h3 class="text-center">There are no products.</h3>

<% } else {  %>
  <div class="table-container">
    <table class="table table-striped alignmiddle">
        <thead>
            <tr class="home">
                <th>Product</th>
                <th>Price</th>
                <th>Category</th>
                <th>Product Image</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            <% products.forEach(function(product) { %>
             <tr>
                 <td><%= product.title %></td>
                 <td>$<%= parseFloat(product.price).toFixed(2) %></td>
                 <td style="padding-left:18px;"><%= product.category %></td>
                 <td>
                     <% if (product.image == "") { %>
                        <img id="noimage" src="/images/noimage.png">
                     <% } else { %>
                        <img id="noimage" src="/product_images/<%= product._id %>/<%= product.image %>">
                     <% } %>
                 </td>
                 <td><a href="/admin/products/edit-product/<%= product._id %>">Edit</a></td>
                 <td><a class="confirmDeletion" href="/admin/products/delete-product/<%= product._id %>">Delete</a></td>
             </tr>
            <% }); %>
        </tbody>
    </table>
  </div>

<% } %>


<%- include('../partials/admin_footer.ejs') %>